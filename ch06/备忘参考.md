
参考:
- [MongoDB查询耗时记录方法](https://www.jianshu.com/p/31554ab4442c)
- [Query Plans](https://docs.mongodb.com/v4.4/core/query-plans/#std-label-read-operations-query-optimization)

可能会用到的命令:
```sh
	\COPY tbl TO '/tmp/import.csv' WITH csv header;
	mongoimport -d mydb -c mycoll --type csv --headerline -u username -p userpassword --authenticationDatabase admin --host 127.0.0.1 --port 27017 --file /tmp/import.csv
```

pgsql:
```sql
    SELECT "serverId","orderId","symbol","account","type","status","submitTime","closeTime","acceptTime","createTime","orderVolumn","nTime","tag","risker" FROM tbl_trade_order_20211029 LIMIT 10;
```

普通查询
```js
	db.bigdata.find({id:129362136}).explain("executionStats")
```

聚合查询
```js
    db.table1.explain("executionStats").aggregate([
        {
            $lookup:
            {
                from: "table2",
                localField: "account",
                foreignField: "accountid",
                as: "table2"
            }
        },
        {
            $unwind: "$table2"
        },
        {
            $match: { "table2.date": { $eq: "20211228" } }
        },
        {
            $replaceWith: { $mergeObjects: [ { account: "$account", id: "$id" }, "$table2" ] }
        },
        {
            $project: {
                _id: 0,
                account: 1,
                id: 1,
                date: 1,
                group: 1
            }
        }
    ])
```